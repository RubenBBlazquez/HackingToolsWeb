{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="w-100 mb-5">
        <button id="getExampleFileButton" class="btn btn-outline-success black_ops_font float-right">
            Get Example Endpoints File
        </button>
    </div>

    <header class="container ">
        <h1 class=" black_ops_font text-success mt-4
        mb-3 text-center ">Api Sniffer</h1>
    </header>
    <section class="container d">
        <div class="form-group">
            <div class="row d-flex justify-content-center">
                <form action="/getDefaultApiSnifferFile/" method="post"
                      class="p-4 row col-12 mt-2 d-flex justify-content-center">

                    <div class="col-11">
                        <button type="button" id="setEndpointsFile"
                                class="mt-3 mb-3 btn btn-outline-success col-12 black_ops_font">
                            Set Endpoints File
                        </button>
                    </div>
                    <div id="authorizationsDiv" class="col-11">
                        <input type="file" name="endpointsFile" placeholder="Set Endpoints File"
                               class="form-control-file col-12 d-none" id="inputEndpointsFile">
                        <label class="text-left black_ops_font text-light" for="authorizationsSelector">Set Possible
                            Authorizations</label>
                        <select name="authSelector" id="authorizationsSelector" class="form-control col-12">
                            <option value="NONE">Set Authorization Types</option>
                        </select>

                        <div class="collapse card mt-3 border border-dark" id="authorizationCollapse">
                            <h6 id="authorizationCollapseTitle"
                                class="black_ops_font mt-2 text-dark text-center col-12"></h6>
                            <div id="authorizationCollapseData" class="card-body row">

                            </div>
                            <div class="card-footer row">
                                <button id="saveAuthorizationConfig" class="col-12 btn btn-outline-blue-dark"
                                        type="button" data-bs-toggle="collapse"
                                        data-bs-target="#authorizationCollapse" aria-expanded="false"
                                        aria-controls="collapseExample">
                                    Save Authorization Config
                                </button>
                            </div>

                        </div>
                        <label id="savedAuthorizationsLabel"
                               class="d-none ml-3 text-left black_ops_font text-light mt-3"
                               for="authorizationsSelector">
                            Authorizations Saved</label>
                        <div id="savedAuthorizations" class="ml-2 d-none">
                            <table class="table table-dark table-hover rounded border border-light">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Authorization</th>
                                    <th scope="col">Action</th>
                                </tr>
                                </thead>
                                <tbody id="tbodySavedAuthorizations">

                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-11">
                        <button id="sendData" class="mt-3 btn btn-outline-success col-12 black_ops_font">
                            Send Data
                        </button>
                    </div>

                </form>
            </div>
        </div>
    </section>

    <script src="{% static 'resources/ApiSniffer/ApiSniffer.js' %}"></script>
{% endblock %}